@model Momntz.UI.Areas.Users.Models.UploadView

@{
    ViewBag.Title = "Upload";
    Layout = "/Views/Shared/_MasonryMaster.cshtml";
}


@section Head{
    
<link rel="stylesheet" type="text/css" href="/Content/css/uploadify/uploadifive.css">
<style type="text/css">

    .uploadifive-button {
        float: left;
        margin-right: 10px;
    }
    #queue {
        border: 1px solid #E5E5E5;
        min-height:  177px;
        overflow: auto;
        margin-bottom: 10px;
        padding: 20px;
        width: 90%;
    }
</style>
    
}

@section Navigation
{
    @{ Html.RenderPartial("/Areas/Users/Views/Shared/_MasonryNavigationPartial.cshtml", Model); }
}


@if (Model.IsAuthenticatedUser)
{

    <div id="singlecontent" class="formcontainer">
        <form style="padding: 20px;">
            <h1>Upload</h1>
            <p>images <span style="color: #999;" >(jpeg, jpg, tiff, bmp, gif, png)</span>, documents <span style="color: #999;" >(doc, docx, pdf, txt)</span> and videos <span style="color: #999;" >(avi, mp4)</span></p>
            <div id="queue"></div>
            <input id="file_upload" name="file_upload" type="file" multiple="true">
            <a style="position: relative; top: 8px;" href="javascript:$('#file_upload').uploadifive('upload')">Upload Files</a>
        </form>
    </div>
}
else
{
    <p style="width:800px; margin-left: auto; margin-right: auto; font-size: 20px;">To add photos you must be logged in, you can login <a href="/login" >here</a>. If you do not have an account you can <a href="/join">create</a> one.</p>
}

@section PageBottom{
    <script src="/Scripts/plugins/uploadify/jquery.uploadifive-v1.0.min.js" type="text/javascript"></script>
    

    <script type="text/javascript">
        
        (function ($) {
            $(document).ready(function () {
                $('#file_upload').uploadifive({
                    'auto': false,
                    'formData': { 'test': 'something' },
                    'queueID': 'queue',
                    'uploadScript': '/uploader/upload.mvc',
                    'onUploadComplete': function (file, data) {
                        console.log(data);
                    }
                });
            });
        })(jQuery);

    </script>
}
